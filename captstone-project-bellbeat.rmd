

##  <span style="color:blue">1. Background of the project </span>

This a project provided by the Google professional data analytics certificate with the following description:

"You are a junior data analyst working on the marketing analyst team at Bellabeat, a high-tech manufacturer of health-focused products for women. Bellabeat is a successful small company, but they have the potential to become a larger player in the global smart device market. Urška Sršen, cofounder and Chief Creative Officer of Bellabeat, believes that analyzing smart device fitness data could help unlock new growth opportunities for the company. You have been asked to focus on one of Bellabeat's products and analyze smart device data to gain insight into how consumers are using their smart devices. The insights you discover will then help guide marketing strategy for the company. You will present your analysis to the Bellabeat executive team along with your high-level recommendations for Bellabeat's marketing strategy."

## <span style="color:blue">2. A summary of the business task </span>

Using data available on smart device usage to provide high level marketing insights to drive the company's growth and success.

##  <span style="color:blue">3. Data Sources </span>

FitBit Fitness Tracker Data available for public use on Kaggle.

URL: <https://www.kaggle.com/datasets/arashnic/fitbit>

Description of the data: This dataset generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring.

##  <span style="color:blue">4.Preparing the data </span>

The data set contains 18 CVS files containing data collected from the fitbit.

Upon initial inspection of the CVS files the data contains daily data, hourly data and minute data. As the Aim of the project is high level insight the focus will be on daily data. If any anomalies appear during the preparing or analysis of the daily data, lower-level data will be used to dig deeper.

With this in mind 6 CVS files remain

1- dailyActivity_merged.cvs

2- dailyCalories_merged.cvs

3- dailyIntensities_merged.cvs

4- dailySteps_merged.cvs

5- sleepDay_merged.cvs

6- weightLogInfo_merged.cvs

## <span style="color:blue">5. Process Phase </span>

### **5.1. the following packages are selected and loaded in Rsutdio.**

```{r message=FALSE, warning=FALSE}
library(tidyverse)
library(ggplot2)
library(skimr)
library(janitor) 
library(dplyr) 
library(corrplot)
library(lubridate) 
```

### **5.2. Importing the data sets**

```{r message=FALSE, warning=FALSE}
dailyActivity_merged <- read.csv("/kaggle/input/fitbit/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv")
dailyCalories_merged <- read.csv("/kaggle/input/fitbit/Fitabase Data 4.12.16-5.12.16/dailyCalories_merged.csv")
dailyIntensities_merged <- read.csv("/kaggle/input/fitbit/Fitabase Data 4.12.16-5.12.16/dailyIntensities_merged.csv")
dailySteps_merged <- read.csv("/kaggle/input/fitbit/Fitabase Data 4.12.16-5.12.16/dailySteps_merged.csv")
sleepDay_merged <- read.csv("/kaggle/input/fitbit/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")
weightLogInfo_merged <- read.csv("/kaggle/input/fitbit/Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged.csv")
```

### **5.3. Preview of the dataset**

```{r warning=FALSE}
head(dailyActivity_merged)

head(dailyCalories_merged)

head(dailyIntensities_merged)

head(dailySteps_merged)

head(weightLogInfo_merged)

head(sleepDay_merged)
```

<span style="color:red">Upon inspection of the data, the data set dailyAcitivty_merged contains data for the **daily calories, daily intensities and daily steps** thus the data sets containing these data are considered duplicates and are removed from the analysis.

Now, we are left with the daily activity data set as well as the weight info data set and the sleep data set. 

### **5.4. Cleaning the data**

#### **5.4.1. Verifying the number of unique users**

```{r warning=FALSE}
n_unique(dailyActivity_merged$Id)
n_unique(sleepDay_merged$Id)
n_unique(weightLogInfo_merged$Id) 
```

<span style="color:red"> The number of unique users in the weight data set is *too small* to conclude any meaningful insights from it thus it will be removed from any further analysis.

#### **5.4.2. Checking for duplicates**

This step is done to ensure that there are no duplicates within the data sets.

```{r}
sum(duplicated(dailyActivity_merged))
sum(duplicated(sleepDay_merged))
```

#### **5.4.3. Removing duplicates and null**

```{r}
daily_activity <- dailyActivity_merged %>% 
  distinct() %>% 
  drop_na()

daily_sleep <- sleepDay_merged %>% 
  distinct() %>% 
  drop_na() 
```

Verifying the duplicates are removed.

```{r}
sum(duplicated(daily_sleep)) 

```

#### **5.4.4. Data formatting**

When checking for heading in step 5.3. I noticed that the **ActivityDay** and **SleepDay** columns in each data set are no formatted as date time.

```{r warning=FALSE}
daily_activity <- daily_activity %>% 
  rename(date = ActivityDate) %>% 
  mutate(date = as.Date(date, format = "%m/%d/%y"))

head(daily_activity)

```

```{r warning=FALSE}
daily_sleep <- daily_sleep %>% 
  rename(date = SleepDay) %>% 
  mutate(date = as.Date(date, format = "%m/%d/%y"))
  
head(daily_sleep) 
```

### **5.5. Merging the datasets**

```{r}
activity_sleep <- merge (daily_activity, daily_sleep, by=c ('Id', "date")) 

```

##  <span style="color:blue">6. Analyse the data </span>

### **6.1. summary statistics of the data.**

```{r}
summary(activity_sleep[, c("TotalSteps", "TotalDistance", "Calories", "TotalMinutesAsleep")])
```

The summary statistics shows that the average steps taken by the users is less than 10,000 which is the recommended amount by the CDC. (<https://www.cdc.gov/diabetes/prevention/pdf/postcurriculum_session8.pdf>)

The summary also shows that the average amount of sleeps is around 7 hours which is around the recommended time. (<https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4434546/>)

#### **6.1.1. Summary statistics visualized**

```{r}
ggplot(activity_sleep, aes(x = TotalSteps)) +
geom_histogram(bins = 30, color = "black", fill = "green") +
labs(title = "Daily Steps") +
geom_vline(xintercept = median(activity_sleep$TotalSteps), color = "blue", linetype = "dashed") + 
stat_function(fun = function(x) dnorm(x, mean = mean(activity_sleep$TotalSteps), sd = sd(activity_sleep$TotalSteps)) * length(activity_sleep$TotalSteps) * diff(range(activity_sleep$TotalSteps))/30, color = "red", size = 1.5) 
```

<span style="color:red">The daily steps seem to be normally distributed with median being around 9000 which means around half of the sample reaches the 10,000 steps mark.

```{r}
ggplot(activity_sleep, aes(x= TotalMinutesAsleep)) +
geom_histogram(bins= 30, color = 'black', fill = 'blue') +
labs(title= 'Daily Sleep') +
geom_vline(xintercept= median(activity_sleep$TotalMinutesAsleep), color = 'green', linetype= 'dashed') +
stat_function(fun = function(x) dnorm(x, mean= mean(activity_sleep$TotalMinutesAsleep), sd=sd(activity_sleep$TotalMinutesAsleep)) * length(activity_sleep$TotalMinutesAsleep) * diff(range(activity_sleep$TotalMinutesAsleep))/30, color = 'red', size = 1.5)
```

<span style="color:red"> Sleep in normally distributed and half of the sample sleeps more than 7 hours which is recommended.

### **6.2. correlation matrix of the data variables.**

```{r}
correlation_matrix <- activity_sleep %>% 
  select(TotalSteps, Calories, VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes, SedentaryMinutes, TotalMinutesAsleep, TotalTimeInBed) %>%
  cor()

corrplot(correlation_matrix, method = 'circle')
```

From the correlation matrix it can be noticed that total steps are similarly correlated with very active minutes, fairly active minutes and lightly active minutes and a very weak negative correlation with sleep which is negligible.

Also, Calories are most correlated with very active minutes which may be because users burn more calories during active exercises rather than passive walking. It is also correlated with Total steps.

Total sleep is strongly correlated with minutes in bed and has negligible correlation with other variables.

<span style="color:red"> The correlation between very active minutes and calories can be visualized.

```{r}
ggplot(activity_sleep, aes(x = VeryActiveMinutes, y= Calories)) + geom_point() + geom_smooth(method = lm, se=FALSE, color = "Red") + labs(title = "Very Active Minutes Vs Calories burned")
```

<span style="color:red"> As well as the correlation between total steps and calories


```{r}
ggplot(activity_sleep, aes(x = TotalSteps, y= Calories)) + geom_point() + geom_smooth(method = lm, se=FALSE, color = "Red") + labs(title = "Total Steps Vs Calories burned")
```

<span style="color:red">Similarly, the correlation between total time in bed and total time asleep is visualized


```{r}
ggplot(activity_sleep, aes(x = TotalTimeInBed, y= TotalMinutesAsleep)) + geom_point() + geom_smooth(method = lm, se=FALSE, color = "Red") + labs(title = "Time in bed Vs Time asleep")
```

### **6.3. Regression model**

```{r}
regression <- lm(Calories ~ VeryActiveMinutes , data = activity_sleep)
summary(regression) 
```

<span style="color:red"> The regression results show that there is a strong and statistically significant relationship between very active minutes and calories burned.

The p-value for the VeryActiveMinutes coefficient is less than 0.0001, which means that the relationship between very active minutes and calories burned is statistically significant. This means that we can be very confident that the relationship is not due to chance.

The standard error for the VeryActiveMinutes coefficient is 0.8205, which is relatively small. This means that the estimate of the slope is relatively precise.

The R-squared value of 0.3736 indicates that the regression model explains 37.36% of the variation in calories burned. This means that there are other factors that affect calories burned besides very active minutes.

Overall, the regression results suggest that there is a strong and statistically significant relationship between very active minutes and calories burned. This means that increasing very active minutes is likely to lead to an increase in calories burned.

```{r}
regression <- lm(Calories ~ TotalSteps, data = activity_sleep)
summary(regression) 
```

<span style="color:red"> The regression results show that there is a positive and statistically significant relationship between total steps and calories burned.

The p-value for the TotalSteps coefficient is less than 0.0001, which means that the relationship between total steps and calories burned is statistically significant. This means that we can be very confident that the relationship is not due to chance.

The standard error for the TotalSteps coefficient is 0.008253, which is relatively small. This means that the estimate of the slope is relatively precise.

The R-squared value of 0.1651 indicates that the regression model explains 16.51% of the variation in calories burned. This means that there are other factors that affect calories burned besides total steps.

Overall, the regression results suggest that there is a positive and statistically significant relationship between total steps and calories burned. This means that increasing total steps is likely to lead to an increase in calories burned.

```{r}
regression <- lm(TotalMinutesAsleep ~ TotalTimeInBed, data = activity_sleep)
summary(regression) 
```

<span style="color:red"> The regression results show that there is a strong and statistically significant relationship between total time in bed and total minutes asleep.

The p-value for the TotalTimeInBed coefficient is less than 0.0001, which means that the relationship between total time in bed and total minutes asleep is statistically significant. This means that we can be very confident that the relationship is not due to chance.

The standard error for the TotalTimeInBed coefficient is 0.01689, which is relatively small. This means that the estimate of the slope is relatively precise.

The R-squared value of 0.8657 indicates that the regression model explains 86.57% of the variation in total minutes asleep. This means that there are other factors that affect total minutes asleep besides total time in bed.

Overall, the regression results suggest that there is a strong and statistically significant relationship between total time in bed and total minutes asleep. This means that increasing total time in bed is likely to lead to an increase in total minutes asleep.

### **6.4. Time series analysis**

```{r}
ggplot(activity_sleep, aes(date, TotalMinutesAsleep)) + geom_point() + geom_smooth(method = lm, se= FALSE) + labs(title = "Sleep Change Over Time")
```

```{r}
ggplot(activity_sleep, aes(date, Calories)) + geom_point() + geom_smooth(method = lm, se= FALSE) + labs(title = "Calories Change Over Time")
```

```{r}
ggplot(activity_sleep, aes(date, TotalSteps)) + geom_point() + geom_smooth(method = lm, se= FALSE) + labs(title = "Total Steps Over Time")
```

```{r}
ggplot(activity_sleep, aes(date, VeryActiveMinutes)) + geom_point() + geom_smooth(method = lm, se= FALSE) + labs(title = "Sleep Change Over Time")
```

<span style="color:red"> The time series analysis doesn't offer much help as the change over time is seemingly negligible.

## <span style="color:blue">7. Summary and Conclusion </span>

### **7.1. Summary of Analysis**

A. The average daily steps for users is around 8,500 which is below the recommended 10,000 by CDC. This highlights an opportunity to encourage more daily activity.

B. Daily sleep duration averages around 420 minutes (7 hours) which aligns with recommendations. However, there is an opportunity to encourage consistency in sleep patterns.

D. There is a positive correlation between very active minutes and calories burned. More intense exercise leads to more calories burned.

E. There is a positive correlation between total steps and calories burned. Overall activity still contributes to calorie burn.

F. Regression analysis shows very active minutes and total steps both significantly predict calories burned (p \< 0.001).

G. No significant trends are observed over time for activity, sleep, or calorie burn.

### **7.2. Marketing recommendations**

A. Focus messaging on highlighting the health benefits of 10,000+ steps per day, active exercise and consistency in sleep patterns.

B. Communicate the importance of exercise intensity through push notification and setting a minimum ammount that is recommended for very active minutes for greater calorie burn.

C. Develop social features like activity challenges to encourage more steps and active minutes.

D. Create content around maintaining healthy sleep habits and routines for restful sleep.

E. Focus advertising on value of products to drive motivation and consistency with daily health behaviors.

### **7.3. Recommendations for further analysis**

A. Data should be collected from the device produced by Bellabeat for more accurate results based on the users

B. Data should be collected over a longer time period as trends may arise over the longer period.

C. Demographic data should be collected to investigate the impact specifically on women (The target audiance of Bellabeat)

D. A larger sample

**In summary, the analysis indicates opportunities to optimize marketing around activity, sleep and their tie to health outcomes. Messaging and campaigns should aim to educate and motivate users to be more consistent with daily behaviors like steps and sleep.**
